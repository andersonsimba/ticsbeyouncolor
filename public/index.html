<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BEYOUND COLOR - Test de Daltonismo</title>

    <link rel="stylesheet" href="styles.css">

    <!-- Librerías para PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>

        /* ------------------------
           FONDO ESTILO durasno
        --------------------------*/
       body {
    font-family: Arial, sans-serif;
    background: linear-gradient(#1F456B);
    background-size: 200% 200%;
    animation: peachFlow 8s ease-in-out infinite;
    margin: 0;
    padding: 0;
}

@keyframes peachFlow {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
}


        @keyframes neonFlow {
            0% {background-position: 0% 50%;}
            50% {background-position: 100% 50%;}
            100% {background-position: 0% 50%;}
        }

        /* ----------------------------------
           CONTENEDORES CON EFECTO GLOW
        -----------------------------------*/
        .container {
            width: 90%;
            max-width: 700px;
            margin: 40px auto;
            background: rgba(255, 255, 255, 0.12);
            padding: 30px;
            border-radius: 16px;
            backdrop-filter: blur(14px);
            box-shadow: 0 0 25px rgba(255, 0, 255, 0.4);
            color: white;
        }

        h2, h3, p, label, th, td {
            color: white;
        }

        /* ----------------------------------
           HEADER DEL PROYECTO
        -----------------------------------*/
        #project-header {
            text-align: center;
            margin-bottom: 25px;
        }

        #logo {
            width: 110px;
            height: auto;
            margin-bottom: 10px;
            filter: drop-shadow(0 0 8px rgba(255,255,255,0.7));
        }

        #project-title {
            font-size: 32px;
            letter-spacing: 2px;
            text-shadow: 0 0 8px cyan, 0 0 18px magenta;
            font-weight: bold;
        }

        /* BOTONES */
        button {
            padding: 12px 25px;
            border: none;
            cursor: pointer;
            border-radius: 8px;
            color: white;
            background: linear-gradient(90deg, #00bcd4, #7e57c2);
            margin: 4px;
            font-size: 15px;
            box-shadow: 0 0 10px rgba(0,255,255,0.5);
            transition: 0.2s;
        }

        button:hover {
            box-shadow: 0 0 20px rgba(0,255,255,0.8);
            transform: scale(1.05);
        }

        button.red {
            background: linear-gradient(90deg, #ff1744, #d50000);
        }

        input {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border-radius: 6px;
            border: none;
            margin: 10px 0;
            background: rgba(255,255,255,0.2);
            color: white;
        }

        input::placeholder {
            color: #e0e0e0;
        }

        /* BARRA DE PROGRESO */
        .progress {
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.2);
            border-radius: 5px;
            margin: 10px 0;
        }
        .progress-bar {
            width: 0%;
            height: 100%;
            background: cyan;
            border-radius: 5px;
            box-shadow: 0 0 10px cyan;
        }

    </style>
</head>

<body>

<!-- HEADER GLOBAL -->
<div id="project-header">
    
<img id="logo" src="img/logo.png" alt="logo" style="width: 350px;">
    <div id="project-title">BEYOUND COLOR</div>
</div>

<!-- PANTALLA INICIO -->
<div id="start-screen" class="container">
    <h2>Test de Daltonismo (Ishihara)</h2>

    <label><b>Ingresa tu nombre:</b></label>
    <input id="username-input" type="text" placeholder="Escribe tu nombre">

    <button id="start-btn" class="green">Iniciar Test</button>

    <hr>
    <button id="admin-open-btn">Acceso Administrador</button>
</div>

<!-- Las demás pantallas quedan igual -->
<!-- TEST -->
<div id="test-screen" class="container hidden">
    <h2>Test en Progreso</h2>

    <div class="progress"><div id="progress-bar" class="progress-bar"></div></div>
    <p id="progress-text">0% completado</p>

    <img id="test-image" src="" width="100%" style="border-radius:10px;">

    <label>¿Qué número ves?</label>
    <input id="user-answer" type="number" placeholder="Tu respuesta">

    <button id="next-btn" class="green">Siguiente</button>
</div>

<!-- PANTALLA FINAL -->
<div id="end-screen" class="container hidden">
    <h2>Resultados</h2>

    <p id="final-score"></p>
    <p id="final-message"></p>

    <button id="save-btn" class="green">Guardar Resultado</button>
    <button id="view-stats-btn">Ver Panel de Control</button>
    <button id="export-pdf-result">Exportar PDF</button>
</div>

<!-- ESTADÍSTICAS -->
<div id="stats-screen" class="container hidden">
    <h2>Panel de Estadísticas</h2>

    <p id="stats-info-name"></p>
    <p id="stats-info-latest"></p>
    <p id="stats-info-total"></p>

    <table id="history-table">
        <thead>
        <tr>
            <th>Nombre</th>
            <th>Puntuación</th>
            <th>%</th>
            <th>Tiempo</th>
            <th>Fecha</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>

    <canvas id="line-chart" width="600" height="300"></canvas>

    <button id="export-pdf-stats">Exportar PDF</button>
    <button id="clear-storage" class="red">Borrar Datos</button>
    <button id="back-home-btn">Volver al Inicio</button>
</div>

<!-- ADMIN -->
<div id="admin-screen" class="container hidden">
    <h2>Acceso Administrador</h2>

    <label>Introduce contraseña:</label>
    <input id="admin-pass" type="password">

    <button id="admin-login-btn" class="green">Entrar</button>
    <button id="admin-cancel-btn" class="red">Cancelar</button>

    <hr>

    <div id="admin-panel" class="hidden">
        <h3>Panel Admin</h3>
        <p>Acceso total a los datos guardados.</p>

        <button id="admin-export-csv">Exportar CSV</button>
        <button id="admin-logout" class="red">Cerrar sesión admin</button>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>

